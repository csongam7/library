<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="library">
      <div class="book">
        <span class="author">Daniel Kahneman</span>
        <span class="title">Gyors & Lassú gondolkodás</span>
        <span>Page number: </span> <span class="pageNumber"></span>
        <span class="read">Currently reading</span>
      </div>
    </div>

    <form class="addBook" method="post" >
      <label for="title">Title:</label>
      <input
        type="text"
        id="title"
        name="title"
        required
        placeholder="Book title"
        value="llll"
      />

      <label for="author">Author:</label>
      <input
        type="text"
        id="author"
        name="author"
        required
        placeholder="Author"

        value="kaka"
      />

      <label for="pageNumber">Number of pages:</label>
      <input
        type="number"
        name="pageNumber"
        id="pageNumber"
        required
        placeholder="Number of pages"
        value=6
        />

      <label for="read">Have you read it?</label>
      <label for="yes">Yes</label>
      <input type="radio" id="yes" name="read" value="yes" checked />
      <label for="no">No</label>
      <input type="radio" id="no" name="read" value="no" />
      <label for="reading">Currently reading</label>
      <input type="radio" id="reading" name="read" value="reading" />

      <input class="submitButton" type="submit"></input>
    </form>
  </body>
  <script>
    let libraryArray = [];

    function Book(title, author, pageNumber, read) {
      this.title = title;
      this.author = author;
      this.pageNumber = pageNumber;
      this.read = read;
    }

    const book = new Book("Kis Vukk", "Fekete István", 120, "read");
    addBookToLibrary(book);



    function addBookToLibrary(book) {
      libraryArray.push(book);
      updateLibrary(book);
    }

    function updateLibrary(book) {
      displayBook(book);
    }

    function displayBook(book){
      let newBook = document.createElement("div");
      newBook.classList.add("book");

      let title = document.createElement("span");
      title.innerText = book.title;
      newBook.appendChild(title);

      let author = document.createElement("span");
      author.innerText = book.author;
      newBook.appendChild(author);

      let pageNumText = document.createElement("span");
      pageNumText.innerText = "Page number:";
      newBook.appendChild(pageNumText)

      let pageNum = document.createElement("span");
      pageNum.innerText = book.pageNumber;
      newBook.appendChild(pageNum);

      let read = document.createElement("span");
      read.innerText = book.read;
      newBook.appendChild(read);

      document.querySelector(".library").appendChild(newBook);
    }

    function displayEveryBook() {
      libraryArray.forEach((book) => {
        displayNewBook(book)
      });
    }

    document.querySelector(".addBook").addEventListener("submit", function() {
        event.preventDefault();
        const author = document.getElementById("author").value
        const title = document.getElementById("title").value;
        const pageNumber = document.querySelector("#pageNumber").value;
        const read = document.querySelector('input[name="read"]:checked').value;
        const newBook = new Book(title, author, pageNumber, read);
        addBookToLibrary(newBook);
    });



  </script>
</html>
